<div class="results-container">
  <h2 class="title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</h2>

  <!-- –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div *ngIf="isLoading" class="loading">
    <span class="spinner"></span> –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
  </div>

  <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
  <table *ngIf="!isLoading && results.length > 0" class="results-table">
    <thead>
      <tr>
        <th>–°–µ—Å—Å–∏—è</th>
        <th>–ù–∞–≤—ã–∫</th>
        <th>–°—Ç—É–¥–µ–Ω—Ç</th>
        <th>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
        <th>–î–∞—Ç–∞</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        <!-- –Ω–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let result of results">
        <td>{{ result.sessionName }}</td>
        <td>{{ result.skillName }}</td>
        <td>{{ result.studentId }}</td>
        <td>{{ result.teacherName }}</td>
        <td>
          <span
            class="score"
            [ngClass]="{
              'high-score': result.score >= 75,
              'mid-score': result.score >= 50 && result.score < 75,
              'low-score': result.score < 50
            }"
          >
            {{ result.score }}%
          </span>
        </td>
        <td>{{ result.resultDate | date : "dd.MM.yyyy" }}</td>
        <td>
          <button class="delete-btn" (click)="deleteResult(result)">
            –£–¥–∞–ª–∏—Ç—å
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <button class="export-btn" (click)="exportToExcel()">
    üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
  </button>

  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç -->
  <div *ngIf="!isLoading && results.length === 0" class="empty">
    –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  </div>
</div>
