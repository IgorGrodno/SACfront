<div class="discipline-form">
  <h2>Добавить дисциплину</h2>

  <div class="form-section">
    <label>
      Название дисциплины:
      <input
        [(ngModel)]="newDisciplineName"
        placeholder="Введите название дисциплины"
      />
    </label>
    <button
      class="add-discipline-button"
      (click)="saveDiscipline()"
      [disabled]="!newDisciplineName.trim() || disciplineSkills.length === 0"
    >
      Добавить дисциплину
    </button>
  </div>

  <div class="lists-container">
    <!-- Навыки дисциплины -->
    <div class="step-list">
      <h3>Навыки дисциплины</h3>
      <div
        cdkDropList
        id="disciplineSkillsList"
        [cdkDropListData]="disciplineSkills"
        [cdkDropListConnectedTo]="['availableSkillsList']"
        class="dropzone"
        [style.height.px]="disciplineListHeight"
        (cdkDropListDropped)="dropSkill($event)"
      >
        <div
          #disciplineSkillRef
          class="step-item"
          *ngFor="let skill of disciplineSkills"
          cdkDrag
        >
          {{ skill.name }}
        </div>
      </div>
    </div>

    <!-- Доступные навыки -->
    <div class="step-list">
      <h3>Доступные навыки</h3>
      <div
        cdkDropList
        id="availableSkillsList"
        [cdkDropListData]="availableSkillsForDiscipline"
        [cdkDropListConnectedTo]="['disciplineSkillsList']"
        class="dropzone"
        [style.height.px]="availableDisciplineListHeight"
        (cdkDropListDropped)="dropSkill($event)"
      >
        <div
          #availableSkillRef
          class="step-item"
          *ngFor="let skill of availableSkillsForDiscipline"
          cdkDrag
        >
          <span class="step-name">{{ skill.name }}</span>
          <button
            *ngIf="skill.canDelete"
            type="button"
            class="remove-btn"
            aria-label="Удалить навык"
            (click)="$event.stopPropagation()"
          >
            ✖
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
