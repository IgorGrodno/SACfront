<h2>Создание новой сессии</h2>

<form (ngSubmit)="createSession()">
  <label>
    Название сессии:
    <input [(ngModel)]="sessionName" name="sessionName" required />
  </label>

  <label>
    Дата начала:
    <input type="date" [(ngModel)]="startDate" name="startDate" required />
  </label>

  <label>
    Диапазон номеров студентов:
    <div class="range-inputs">
      <input
        type="number"
        [(ngModel)]="studentRangeStart"
        name="rangeStart"
        placeholder="от"
        required
      />
      <input
        type="number"
        [(ngModel)]="studentRangeEnd"
        name="rangeEnd"
        placeholder="до"
        required
      />
    </div>
  </label>
  <button type="submit">Создать</button>
</form>

<h2>Список сессий</h2>
<table class="session-table">
  <thead>
    <tr>
      <th>Название</th>
      <th>Дата начала</th>
      <th>Активна</th>
      <th>Кол-во студентов</th>
      <th>Действия</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let session of sessions"
      class="session-row"
      (click)="viewSessionDetails(session.id!)"
    >
      <td>{{ session.name }}</td>
      <td>{{ session.startDate | date : "yyyy-MM-dd" }}</td>
      <td>
        <input type="checkbox" [checked]="session.active" disabled />
      </td>
      <td>{{ session.studentNumbers.length }}</td>
      <td>
        <button
          (click)="toggleSessionActive(session, $event)"
          [ngClass]="session.active ? 'deactivate' : 'activate'"
        >
          {{ session.active ? "Деактивировать" : "Активировать" }}
        </button>
      </td>
    </tr>
  </tbody>
</table>
