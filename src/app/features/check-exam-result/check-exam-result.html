<div class="layout">
  <!-- –°–µ—Å—Å–∏–∏ -->
  <div class="card">
    <h2 class="card-title">üìÖ –°–µ—Å—Å–∏–∏</h2>
    <ul class="list">
      <li
        *ngFor="let s of sessions()"
        (click)="selectSession(s.id!)"
        [class.active]="s.id === activeSessionId()"
        class="list-item"
      >
        {{ s.name }} ({{ s.startDate | date:'dd.MM.yyyy' }})
      </li>
    </ul>
  </div>

  <!-- –°—Ç—É–¥–µ–Ω—Ç—ã -->
  <div class="card">
    <h2 class="card-title">üéì –°—Ç—É–¥–µ–Ω—Ç—ã</h2>
    <ul class="list">
      <li
        *ngFor="let st of students()"
        (click)="selectStudent(st)"
        [class.active]="st === activeStudentNumber()"
        class="list-item"
      >
        üë§ {{ st }}
      </li>
      <li *ngIf="students().length === 0" class="empty">
        –ù–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
      </li>
    </ul>
  </div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
  <div class="card" style="width: 100%">
    <h2 class="card-title">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
    <ng-container *ngIf="studentResults().length > 0; else noResults">
      <div *ngFor="let d of uniqueDisciplines()" class="discipline-card">
        <h3 style="margin-bottom: 0">
          {{ d }} ‚Äî —Å—Ä–µ–¥–Ω–∏–π: {{ getAverageForDiscipline(d) }}%
        </h3>
        <table class="skills-table">
          <tbody>
            <tr *ngFor="let skill of getSkillsForDiscipline(d)">
              <td class="skill-name">{{ skill }}</td>
              <td class="skill-score">
                {{ getScore(activeStudentNumber() ?? 0, skill) }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-container>

    <ng-template #noResults>
      <div class="empty">–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</div>
    </ng-template>
  </div>
</div>
